<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>shaheen gandhi | blog</title>
    <meta name="description" content="programming cocoa and ios" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- fb open graph tags -->
    <meta property="og:title" content="shaheen gandhi | blog" />
    <meta property="og:url" content="http://shaheengandhi.com/page/7/index.html" />
    <meta property="og:site_name" content="shaheen gandhi | blog" />
    <meta property="og:type" content="blog" />

    <link rel="alternate" type="application/rss+xml" title="shaheen gandhi | blog" href="http://shaheengandhi.com/feed.xml">
    <link rel="stylesheet" type="text/css" href="/assets/css/app.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400" />
    <script src="/bower_components/modernizr/modernizr.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47069804-1', 'shaheengandhi.com');
    ga('send', 'pageview');

</script>
</head>
<body>
<div id="fb-root">
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=134486209909433";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script></div>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label class="first">shaheen gandhi | blog</label></li>
          <li><a href="/">Home</a></li>
          <li><a href="/feed.xml">RSS</a></li>
        </ul>

        <hr />

        <ul class="off-canvas-list">
          <li><label class="first">Topics</label></li>
          <li><a href="/tag/tv">#tv (18)</a></li> <li><a href="/tag/video">#video (17)</a></li> <li><a href="/tag/apple">#apple (15)</a></li> <li><a href="/tag/programming">#programming (9)</a></li> <li><a href="/tag/cocoa">#cocoa (7)</a></li> <li><a href="/tag/ios">#ios (7)</a></li> <li><a href="/tag/mobile">#mobile (6)</a></li> <li><a href="/tag/games">#games (5)</a></li> <li><a href="/tag/gadgets">#gadgets (4)</a></li> <li><a href="/tag/personal">#personal (3)</a></li> <li><a href="/tag/film">#film (3)</a></li> <li><a href="/tag/media">#media (2)</a></li> <li><a href="/tag/osx">#osx (1)</a></li> <li><a href="/tag/microsoft">#microsoft (1)</a></li> <li><a href="/tag/creativity">#creativity (1)</a></li> <li><a href="/tag/math">#math (1)</a></li> <li><a href="/tag/tech">#tech (1)</a></li> <li><a href="/tag/hardware">#hardware (1)</a></li>
        </ul>
      </aside>

      <nav class="tab-bar hide-for-medium-up">
        <a class="left-off-canvas-toggle menu-icon show-for-small"><span>Menu</span></a>
      </nav>

      <section role="main">
        <div class="row">
          <div class="medium-8 medium-centered columns">
            <div class="row">
              <div class="large-3 medium-4 medium-uncentered columns hide-for-small sidebar">
                <div class="bio">
                  <a class="profile-picture" href="/">
                    <img src="/assets/images/profile.jpg" alt="shaheen gandhi | blog" />
                  </a>

                  <div class="author">Shaheen Gandhi</div>

                  <div class="description">
                    <p>I am a software engineer working on embedded hardware-software systems.  I built Xbox and Courier operating system internals, mobile infrastructure at Facebook, and now work at Oculus Research on the future of VR.</p>
                  </div>

                  <ul class="small-block-grid-4 social-accounts">
                    <li><a href="/feed.xml">
                      <span class="fa-stack rss">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://twitter.com/visigoth">
                      <span class="fa-stack twitter">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://facebook.com/shaheen">
                      <span class="fa-stack facebook">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://github.com/visigoth">
                      <span class="fa-stack github">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                  </ul>
                </div>

                <!--
                <form id="subscribe_form" action="http://shaheengandhi.us2.list-manage.com/subscribe/post?u=7c5ac886805e86c7228040973&amp;id=cc1838ba6f" method="post" class="validate" target="_blank" novalidate>
                  <div class="row collapse">
                    <div class="small-10 columns">
                      <input class="email" type="email" value="" name="EMAIL" placeholder="subscribe via email" required>
                    </div>
                    <div class="small-2 columns">
                      <input type="submit" value="&#xf0a9" class="fa button postfix">
                    </div>
                  </div>
                </form>
                -->

                <nav id="archive">
                  <ul class="side-nav">
                    <li class="heading">Topics</li>
                    <li><a href="/tag/tv">#tv (18)</a></li> <li><a href="/tag/video">#video (17)</a></li> <li><a href="/tag/apple">#apple (15)</a></li> <li><a href="/tag/programming">#programming (9)</a></li> <li><a href="/tag/cocoa">#cocoa (7)</a></li> <li><a href="/tag/ios">#ios (7)</a></li> <li><a href="/tag/mobile">#mobile (6)</a></li> <li><a href="/tag/games">#games (5)</a></li> <li><a href="/tag/gadgets">#gadgets (4)</a></li> <li><a href="/tag/personal">#personal (3)</a></li> <li><a href="/tag/film">#film (3)</a></li> <li><a href="/tag/media">#media (2)</a></li> <li><a href="/tag/osx">#osx (1)</a></li> <li><a href="/tag/microsoft">#microsoft (1)</a></li> <li><a href="/tag/creativity">#creativity (1)</a></li> <li><a href="/tag/math">#math (1)</a></li> <li><a href="/tag/tech">#tech (1)</a></li> <li><a href="/tag/hardware">#hardware (1)</a></li>
                  </ul>
                </nav>
              </div>
              <div class="large-9 medium-8 medium-uncentered columns">
                <main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/have-you-ever-tried-to-sell-a-diamond-magazin">Have You Ever Tried to Sell a Diamond? - Magazine - The Atlantic</a></div>
    </header>
    <section class="post-content">
      <div class="posterous_bookmarklet_entry">
      <blockquote class="posterous_medium_quote">Although it could do little about the state of the economy, N. W. Ayer
suggested that through a well-orchestrated advertising and public-relations
campaign it could have a significant impact on the "social attitudes of the
public at large and thereby channel American spending toward larger and more
expensive diamonds instead of "competitive luxuries.</blockquote><div class="posterous_quote_citation">via <a href="http://www.theatlantic.com/magazine/print/1982/02/have-you-ever-tried-to-sell-a-diamond/4575/">theatlantic.com</a></div>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;p&gt;I think every marketer on the planet should read this article.  Most articles on diamonds tend to vilify the players involved, but this article is very level-headed.  It tells a decades-long story, and what I find interesting about it is this deliberate patience of its characters.  They knew it would take a decade to change the public&#39;s perception of diamonds, and then yet another one to change it again.  But, they were undeterred and calculated in their efforts.&lt;/p&gt;&lt;/div&gt;
</code></pre></div>
    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/have-you-ever-tried-to-sell-a-diamond-magazin#comments"><fb:comments-count href="http://shaheengandhi.com/have-you-ever-tried-to-sell-a-diamond-magazin"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="24 December 2010">24 December 2010</time> //
        <ul class="post-tags">
          
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/using-airplay-to-control-itunes">Using AirPlay to Control iTunes</a></div>
    </header>
    <section class="post-content">
      <div class="posterous_bookmarklet_entry">
<blockquote class="posterous_long_quote"><img src="http://photos.appleinsider.com/remote-101222.jpg" border="0" height="200" alt="Remote" /></blockquote>
<div class="posterous_quote_citation">via <a href="http://www.appleinsider.com/articles/10/12/22/apple_updates_ios_remote_app_with_airplay_control_of_itunes.html">appleinsider.com</a></div>
<p>When Zune first got started, I was desperately hoping to link its functionality with Xbox: both would be on the same network at home and the Zune offered the best device at the time to be able to control my Xbox's functionality.  Why ship a remote with the console when you could control it with the portable device that's already in your hand?</p>
<p>While I hacked up a prototype a number of years ago controlling my Xbox devkit from my PC, I never got enough traction between the two teams.  I wish I could have explained better why I think it was a critical mistake not making these two devices work well together, but I'm going to try to do so ex post facto:</p>
<p>Say my <a href="http://blog.brokenrobotllc.com/dumb-tvs-are-the-future">dumb TV idea</a> comes true.  As I've said before, the ability to transport your media is very valuable.  AirPlay is the best technology available to do this today.  Some day, everything might be streamed from the Internet, and Apple has created a brand and associated technology that users would trust no matter how the delivery of the bits happens.  What will make users comfortable with the experience of transporting media will be their early use of AirPlay enabled devices.</p>
<p>It might not take that long for others to catch up.  After all, Windows has ad-hoc networking technology also.  However, users will have invested in an ecosystem they will not want to leave.</p>
</div>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/using-airplay-to-control-itunes#comments"><fb:comments-count href="http://shaheengandhi.com/using-airplay-to-control-itunes"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="23 December 2010">23 December 2010</time> //
        <ul class="post-tags">
          <li><a href="/tag/tv">#tv</a></li> <li><a href="/tag/apple">#apple</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/ios-uiimageview-rendering-in-42">iOS: UIImageView rendering in 4.2</a></div>
    </header>
    <section class="post-content">
      <p>I&#39;ve been working on my latest project since April.  That is a long time, but life gets in the way.  Regardless, this period of time means that my app has had to make the transition to iOS 4.2.  If you&#39;ll recall my <a href="http://blog.brokenrobotllc.com/ios-cached-image-loaders">post about caching media</a>, my app loads a fair amount of media from the web and displays it all to the user.  On iOS 3.2, the images I was loading would gradually show up on the screen one by one.  Once I upgraded my iPad to 4.2, this functionality suddenly changed: the images would load all together at once.  This is bad because it takes a long time to display, decode, and render these images.  The user would have to wait many seconds before they were seen.  Since my app is so visual, this was unacceptable, so I started debugging.<p /> My first inclination was that something might have changed about how the resources were being downloaded due to differences in the way NSOperation was being handled.  I placed a bunch of debug output to find out that images were downloading the same way as before, so the problem was happening after I set the image property of the target UIImageView.<p /> I wrestled with what could be happening for a while until I realized that I was setting the property on a thread other than the UI thread.  I was also setting it within an @synchronized block.  So, I thought the lock might be causing the problem.  However, I found the entire locked area was taking 4ms of time.  When you have synchronous debug prints coming over a channel, this is a small amount of time.  So, Apple had changed the way image rendering was happening to queue things up to run in some batched run loop mode on the UI thread.<p /> I ran with this and changed the rendering operation to flip the render over to the main thread with performSelectorOnMainThread.  It worked!  I was lucky that this solved the problem as it was only a hunch.  While I had played around with performSelectorOnMainThread before, I found memory management with it is tricky and so I had stayed away from it.  I&#39;m sure there are some reference counting issues in the code now as a result of the change.<p /> Lesson learned: on iOS, perform UI changes on the main thread only.  The pain of retainCount management is worth it.<p />~s</p>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/ios-uiimageview-rendering-in-42#comments"><fb:comments-count href="http://shaheengandhi.com/ios-uiimageview-rendering-in-42"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="04 December 2010">04 December 2010</time> //
        <ul class="post-tags">
          <li><a href="/tag/programming">#programming</a></li> <li><a href="/tag/cocoa">#cocoa</a></li> <li><a href="/tag/ios">#ios</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/kinects-japan-sales-detailed-edge-magazine">Kinect\u2019s Japan Sales Detailed | Edge Magazine</a></div>
    </header>
    <section class="post-content">
      <p><a href="http://www.next-gen.biz/news/kinect%E2%80%99s-japan-sales-detailed">http://www.next-gen.biz/news/kinect%E2%80%99s-japan-sales-detailed</a><p />This should shouldn&#39;t be a surprise: Japanese play spaces are very small.  In Japan, the sales <a href="http://www.computerandvideogames.com/article.php?id=276821">kiosks include a tape measure</a> for play space requirements.  Even Americans are <a href="http://www.joystiq.com/2010/11/04/kinect-vs-our-living-rooms-a-survey/">having trouble finding the space</a> for Kinect.  However, it&#39;s undeniable that Kinect is awesome.  Hopefully, my cronies over at Xbox will find a way to make smaller play spaces viable for certain types of games...<p /> ~s</p>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/kinects-japan-sales-detailed-edge-magazine#comments"><fb:comments-count href="http://shaheengandhi.com/kinects-japan-sales-detailed-edge-magazine"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="27 November 2010">27 November 2010</time> //
        <ul class="post-tags">
          <li><a href="/tag/gadgets">#gadgets</a></li> <li><a href="/tag/games">#games</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  

  <nav class="pagination" role="pagination">
    
        <a class="newer-posts" href="/page/6">&larr; Newer Posts</a>
    
    <span class="page-number">Page 7 of 12</span>
    
        <a class="older-posts" href="/page/8">Older Posts &rarr;</a>
    
  </nav>
</main>

              </div>
            </div>
          </div>
        </div>
      </section>
      <a class="exit-off-canvas"></a>
    </div>
  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="/bower_components/foundation/js/foundation.min.js"></script>
  <script src="/assets/js/app.js"></script>

</body>
</html>
