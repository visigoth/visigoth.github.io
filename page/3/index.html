<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>shaheen gandhi | blog</title>
    <meta name="description" content="programming cocoa and ios" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- fb open graph tags -->
    <meta property="og:title" content="shaheen gandhi | blog" />
    <meta property="og:url" content="http://shaheengandhi.com/page/3/index.html" />
    <meta property="og:site_name" content="shaheen gandhi | blog" />
    <meta property="og:type" content="blog" />

    <link rel="alternate" type="application/rss+xml" title="shaheen gandhi | blog" href="http://shaheengandhi.com/feed.xml">
    <link rel="stylesheet" type="text/css" href="/assets/css/app.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic|Open+Sans:700,400" />
    <script src="/bower_components/modernizr/modernizr.js"></script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47069804-1', 'shaheengandhi.com');
    ga('send', 'pageview');

</script>
</head>
<body>
<div id="fb-root">
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=134486209909433";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script></div>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label class="first">shaheen gandhi | blog</label></li>
          <li><a href="/">Home</a></li>
          <li><a href="/feed.xml">RSS</a></li>
        </ul>

        <hr />

        <ul class="off-canvas-list">
          <li><label class="first">Topics</label></li>
          <li><a href="/tag/tv">#tv (18)</a></li> <li><a href="/tag/video">#video (17)</a></li> <li><a href="/tag/apple">#apple (15)</a></li> <li><a href="/tag/programming">#programming (9)</a></li> <li><a href="/tag/cocoa">#cocoa (7)</a></li> <li><a href="/tag/ios">#ios (7)</a></li> <li><a href="/tag/mobile">#mobile (6)</a></li> <li><a href="/tag/games">#games (5)</a></li> <li><a href="/tag/gadgets">#gadgets (4)</a></li> <li><a href="/tag/personal">#personal (3)</a></li> <li><a href="/tag/film">#film (3)</a></li> <li><a href="/tag/media">#media (2)</a></li> <li><a href="/tag/osx">#osx (1)</a></li> <li><a href="/tag/microsoft">#microsoft (1)</a></li> <li><a href="/tag/creativity">#creativity (1)</a></li> <li><a href="/tag/math">#math (1)</a></li> <li><a href="/tag/tech">#tech (1)</a></li> <li><a href="/tag/hardware">#hardware (1)</a></li>
        </ul>
      </aside>

      <nav class="tab-bar hide-for-medium-up">
        <a class="left-off-canvas-toggle menu-icon show-for-small"><span>Menu</span></a>
      </nav>

      <section role="main">
        <div class="row">
          <div class="medium-8 medium-centered columns">
            <div class="row">
              <div class="large-3 medium-4 medium-uncentered columns hide-for-small sidebar">
                <div class="bio">
                  <a class="profile-picture" href="/">
                    <img src="/assets/images/profile.jpg" alt="shaheen gandhi | blog" />
                  </a>

                  <div class="author">Shaheen Gandhi</div>

                  <div class="description">
                    <p>I am a software engineer working on embedded hardware-software systems.  I built Xbox and Courier operating system internals, mobile infrastructure at Facebook, and now work at Oculus Research on the future of VR.</p>
                  </div>

                  <ul class="small-block-grid-4 social-accounts">
                    <li><a href="/feed.xml">
                      <span class="fa-stack rss">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://twitter.com/visigoth">
                      <span class="fa-stack twitter">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://facebook.com/shaheen">
                      <span class="fa-stack facebook">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                    <li><a href="http://github.com/visigoth">
                      <span class="fa-stack github">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                      </span>
                    </a></li>
                  </ul>
                </div>

                <!--
                <form id="subscribe_form" action="http://shaheengandhi.us2.list-manage.com/subscribe/post?u=7c5ac886805e86c7228040973&amp;id=cc1838ba6f" method="post" class="validate" target="_blank" novalidate>
                  <div class="row collapse">
                    <div class="small-10 columns">
                      <input class="email" type="email" value="" name="EMAIL" placeholder="subscribe via email" required>
                    </div>
                    <div class="small-2 columns">
                      <input type="submit" value="&#xf0a9" class="fa button postfix">
                    </div>
                  </div>
                </form>
                -->

                <nav id="archive">
                  <ul class="side-nav">
                    <li class="heading">Topics</li>
                    <li><a href="/tag/tv">#tv (18)</a></li> <li><a href="/tag/video">#video (17)</a></li> <li><a href="/tag/apple">#apple (15)</a></li> <li><a href="/tag/programming">#programming (9)</a></li> <li><a href="/tag/cocoa">#cocoa (7)</a></li> <li><a href="/tag/ios">#ios (7)</a></li> <li><a href="/tag/mobile">#mobile (6)</a></li> <li><a href="/tag/games">#games (5)</a></li> <li><a href="/tag/gadgets">#gadgets (4)</a></li> <li><a href="/tag/personal">#personal (3)</a></li> <li><a href="/tag/film">#film (3)</a></li> <li><a href="/tag/media">#media (2)</a></li> <li><a href="/tag/osx">#osx (1)</a></li> <li><a href="/tag/microsoft">#microsoft (1)</a></li> <li><a href="/tag/creativity">#creativity (1)</a></li> <li><a href="/tag/math">#math (1)</a></li> <li><a href="/tag/tech">#tech (1)</a></li> <li><a href="/tag/hardware">#hardware (1)</a></li>
                  </ul>
                </nav>
              </div>
              <div class="large-9 medium-8 medium-uncentered columns">
                <main class="content" role="main">
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/cocoa-rotation-in-scrollable-document-views">Cocoa: Rotation in Scrollable Document Views</a></div>
    </header>
    <section class="post-content">
      <p>I&rsquo;m continuing work on my <a href="http://blog.brokenrobotllc.com/archive/11/2010">mac
project</a>, which
involves a scalable document that can be embedded in an NSScrollView.
I recently wanted to add orientation to the set of valid
transformations.  While I&rsquo;m sure there are more generic solutions that
involve setting a composite affine transformation on the underlying
CALayer, I wanted something that I could implement in an hour or so.
I ran into some issues that I thought I&rsquo;d write about in hopes of
saving other people some time.</p>

<p>When coding against the SDK for OS X Lion, NSView has a
<code>setFrameCenterRotation:</code> selector, which is very convenient for
rotating about the center of the view.  If you need to run against
older versions of OS X, you can use a combination of <code>setFrameOrigin:</code>
and <code>setFrameRotation:</code> to accomplish the same thing.  These rotations
don&rsquo;t affect the internal coordinate system of the NSView, but change
its frame in the superview &ndash; also very convenient when it comes to
performing layout in the rotated view.</p>

<p>I experimented with these for my document view&rsquo;s transformations and
found some quirks.  Firstly, I tried to simply rotate the
NSScrollView&rsquo;s <code>documentView</code>.  From my previous post, this is the
<code>HostView</code> object.  That didn&rsquo;t go quite as well as I had hoped: the
rotation occurred around the incorrect locus, and the scroll view got
very confused about positioning.  When I performed the rotation, the
document would jump to an odd place, and then when I moved the scroll
bars, the document would jump back to the origin.</p>

<p>After that, I attempted to rotate the <code>_docView</code> inside the <code>HostView</code>
object.  Success!  At least, initial success: while the rotation
occurred and the document stayed stable inside the scroll view, the
dimensions of the <code>HostView</code> object stayed the same and the <code>_docView</code>
was positioned incorrectly.  I found that the
<code>NSViewFrameDidChangeNotification</code> was still being raised.  When I
analyzed the newly calculated frame for the <code>HostView</code>, I found the
width and height were the same as the original, when it should have
been changed.</p>

<p>Changing the code in <code>updateFrame:</code> to detect the <code>_docView</code> in
landscape orientation and transforming the frame appropriately makes
the scroll view recalculate its scroll extents correctly.  There&rsquo;s
still the problem of the incorrectly positioned document.  I&rsquo;m not
sure why Cocoa does this, but when calculating the frame for a
rotation, the view would consistently get shifted by a size
proportional to the size of the view.  I had to manually adjust the
frame after the rotation had adjusted it.</p>

<p>After all is said and done, the new code looks like this.</p>

<script src="https://gist.github.com/visigoth/715903.js"></script>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/cocoa-rotation-in-scrollable-document-views#comments"><fb:comments-count href="http://shaheengandhi.com/cocoa-rotation-in-scrollable-document-views"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="09 July 2011">09 July 2011</time> //
        <ul class="post-tags">
          <li><a href="/tag/programming">#programming</a></li> <li><a href="/tag/cocoa">#cocoa</a></li> <li><a href="/tag/ios">#ios</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/3-d-in-movie-theaters">3-D in Movie Theaters</a></div>
    </header>
    <section class="post-content">
      <p><a href="http://www.nytimes.com/2011/05/30/business/media/30panda.html?partner=rss&amp;emc=rss">This article</a> reminded me that I wanted to write about 3-D movies. <p /> Many people have written about how 3-D won&#39;t work due to physiological <br />issues with eye strain and wearing glasses for extended periods of <br />time. While these issues are real, I have faith that technology will <br />get to the point where these issues are mitigated if not eliminated. <p /> Everyone knows that movies are entertainment, and as such, an <br />unnecessary good. The market has already priced out this good: <br />entertain me for about 2 hours and I will pay $10 for that <br />entertainment. Theaters have thus far priced 3-D movies as a marginal <br />good: 3-D is better and thus should be higher value. The only problem <br />is, it isn&#39;t (or at best, the margin is short lived). <p /> I wonder if &quot;talkies&quot; demanded a higher ticket price when they were introduced? <p /> Once 3-D movies cost the same as a regular projection, they will <br />simply become the norm at theaters because all the other reasons to go <br />to the theater (timed releases, big screen, popcorn?) will have <br />eroded. The theater is already becoming a throw-away entertainment <br />activity, and 3-D will be the only thing keeping them alive, until the <br />next technology comes along. Personal surround sound, anyone? <p /> ~s</p>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/3-d-in-movie-theaters#comments"><fb:comments-count href="http://shaheengandhi.com/3-d-in-movie-theaters"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="30 May 2011">30 May 2011</time> //
        <ul class="post-tags">
          <li><a href="/tag/video">#video</a></li> <li><a href="/tag/film">#film</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/intel-apple-and-fabs">Intel, Apple, and fabs</a></div>
    </header>
    <section class="post-content">
      <p>In November, an
<a href="http://www.nytimes.com/2010/11/01/business/01chip.html?partner=rss&amp;emc=rss">article</a>
indicated that Intel was ready to open up its fabs to other chip
designers.</p>

<p>AMD famously <a href="http://www.techrepublic.com/blog/hiner/amd-spins-off-manufacturing-will-focus-on-designing-chips-and-systems/859">spun off their foundry
capabilities</a>
into The Foundry Group, basically admitting that it was too expensive
to maintain investments in fabrication while only manufacturing their
own chips.  The move also let AMD leverage competitive investments at
other fabricators such as TSMC (Taiwanese Semiconductor Manufacturing
Company).  ARM paved the way for this kind of thinking many years ago,
being one of the first fabless semiconductor companies.  NVIDIA
decided to go down this route as well.  It&rsquo;s just too expensive to
maintain fabs yourself unless your volumes are absolutely massive.</p>

<p>There are some great reasons to have a fab, though.  When making a
chip, there are many factors that go into its profitability.  Among
them are size, power, performance, and cost of materials.  Owning a
fab and the process used therein enables you to optimize each of them.
 Intel has long held the performance crown by way of being vertically
integrated, from architecture &amp; design, down to the process used to
lay transistors.</p>

<p>As transistors have gotten smaller, it has taken more and more
ingenuity to cram more computing power into the same area.  It takes a
long time to research the materials science involved, and Intel has
lots of proprietary technology in this area.  So much that the rest of
the industry feels the need to <a href="http://www.eetimes.com/electronics-news/4212271/IBM--fab-club--switches-high-k-camps">band
together</a>
to compete.</p>

<p>When a contract semiconductor manufacturer allows others to use its
process for making chips, it has to disclose lots of details to the
chip designers.  This is because chip designers need to simulate their
chips on the process to understand nano-scale effects such as wire
capacitance and impedance before sending the final designs to be
manufactured.</p>

<p>By allowing others to build chips on their process, Intel is opening
up a lot more than just a revenue stream.  Of course, they realize
this, and it is unlikely that they will end up making AMD&rsquo;s chips.
However, rumors this past week had Intel in a position to <a href="http://www.appleinsider.com/articles/11/05/03/intel_interested_in_building_apples_mobile_a4_a5_chips_report.html">manufacture
Apple&rsquo;s A4 and A5</a>.
 However, it is unclear to me what Intel has to gain from making ARM
chips better than the other guy.</p>

<p>There are lots of wins to be had for Apple to use Intel&rsquo;s process
technology on these chips.  The A5 is
<a href="http://www.tested.com/news/apples-a5-chip-examined-under-a-microscope/1999/">massive</a>
and could benefit from smaller, tighter process technologies with
higher yields.  With the relationship between Apple and Samsung
souring, the move makes sense.</p>

<p>However, I think there is another move that could be even more
interesting for Apple to make: buy its own fab.  Apple always strives
to be vertically integrated, and this would be one more step along the
way to not relying on anyone else.  If Apple could then build an
innovative portfolio of process technologies, it would hold a yet
larger lead on competitors.</p>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/intel-apple-and-fabs#comments"><fb:comments-count href="http://shaheengandhi.com/intel-apple-and-fabs"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="08 May 2011">08 May 2011</time> //
        <ul class="post-tags">
          <li><a href="/tag/apple">#apple</a></li> <li><a href="/tag/hardware">#hardware</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  
  <article class="post">
    <header class="post-header">
      <div class="post-title"><a href="/cisco-shutting-down-flip">Cisco shutting down Flip</a></div>
    </header>
    <section class="post-content">
      <div class="posterous_bookmarklet_entry">
      <blockquote class="posterous_short_quote">Cisco will close down its Flip business and “support current FlipShare customers and partners with a transition plan.</blockquote>

<div class="posterous_quote_citation">via <a href="http://techcrunch.com/2011/04/12/cisco-to-shut-down-flip-video-business-will-give-pink-slips-to-550-employees/">techcrunch.com</a></div>

<p><p>This is the poorest decision Mr. Chambers has ever made.</p></div></p>

    </section>
       <footer class="post-footer">
      
      <span class="post-meta">
        <a href="http://shaheengandhi.com/cisco-shutting-down-flip#comments"><fb:comments-count href="http://shaheengandhi.com/cisco-shutting-down-flip"></fb:comments-count> Comments</a> //
        <i class="fa fa-calendar-o"></i><time datetime="12 April 2011">12 April 2011</time> //
        <ul class="post-tags">
          <li><a href="/tag/gadgets">#gadgets</a></li> <li><a href="/tag/tech">#tech</a></li>
        </ul>
      </span>
      
    </footer>

  </article>
  

  <nav class="pagination" role="pagination">
    
        <a class="newer-posts" href="/page/2">&larr; Newer Posts</a>
    
    <span class="page-number">Page 3 of 12</span>
    
        <a class="older-posts" href="/page/4">Older Posts &rarr;</a>
    
  </nav>
</main>

              </div>
            </div>
          </div>
        </div>
      </section>
      <a class="exit-off-canvas"></a>
    </div>
  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="/bower_components/foundation/js/foundation.min.js"></script>
  <script src="/assets/js/app.js"></script>

</body>
</html>
